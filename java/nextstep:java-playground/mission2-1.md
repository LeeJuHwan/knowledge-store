# Mission1. Baseball-Unit Test

<details>

<summary>Properties</summary>

:pencil:2024.08.23

:computer: [source\_code](https://github.com/LeeJuHwan/java-baseball/tree/mission2-jhlee/src/main/java)

</details>

## 숫자야구게임 구현


### 요구사항 이해하기


> 용어 정리

- 플레이어: 나

- 상대방: 컴퓨터

- {누군가}가 갖고 있는 숫자의 요소 위치의 숫자: 713 중 1번째 요소는 "7", 사용자가 713을 입력 했다면 1번째 요소가 같음.

1. 컴퓨터는 1 부터 9까지 랜덤한 숫자로 3자리를 구성 해야한다.

2. 플레이어는 컴퓨터가 생성한 3자리 난수를 맞춰야한다.

3. 플레이어가 정답을 입력 할 때 마다 결과로 힌트가 제공 된다.

    - 플레이어가 입력한 숫자의 요소 위치의 숫자 컴퓨터가 생성한 숫자의 요소 위치에 속한  숫자가 같다면 "스트라이크"

    - 플레이어가 입력한 숫자가 같은 위치에 없지만 컴퓨터의 숫자 중 속해있다면 "볼"

    - 플레이어가 입력한 숫자가 아무 것도 포함되지 않는다면 "낫싱"

    - 예시
        - 컴퓨터 정답: 713

        - 플레이어 입력: 123 -> 결과: 1볼 1스트라이크

        - 플레이어 입력: 671 -> 결과: 2볼

        - 플레이어 입력: 456 -> 결과: 낫싱

        - 플레이어 입력: 713 -> 결과: 3스트라이크

4. 게임이 종료 되면 다시 실행 할지, 완전히 종료 할지 사용자에게 입력을 받는다.

<br></br>

### 도메인 추출하기

요구사항에 따른 도메인을 먼저 분석 해서, 해당 도메인 객체가 행동 할 수 있는 메서드를 만드는게 먼저라고 생각했다. 위 요구사항을 보면 가장 거시적으로 있어야 할 도메인 객체는 `유저`, `컴퓨터`가 있고 유저와 컴퓨터 사이의 연결을 해줄 객체가 필요해보인다.

<br></br>

> 왜 연결을 해줄 객체가 필요할까?

프로그램이 빌드 한 시점 이후로 `컴퓨터` 객체는 난수를 생성 해서 본인만 알고있다. 그 후, 플레이어가 정답을 입력 하여 그 숫자를 맞추는 과정이 진행 되는데 이 때 정답인지 아닌지 판별은 어떻게 할 것인가? 다짜고짜 컴퓨터에게 "이거 정답이야?" 라고 물어본다면, 컴퓨터는 당연히 "맞아" 또는 "아니야"가 대답이 될 것이다.

<br></br>

> 그렇다면 내가 필요한건 정답 여부인가?

정답 여부도 필요한 것은 맞지만 위 요구사항은 점수를 기록 해서 플레이어가 접근 하기 쉽도록 힌트를 제공 하고 있다. 그렇다면 컴퓨터에게 점수도 물어볼 것인가?

이 도메인을 추출하는 데 모호한 이유는 흔히 `SRP` 라는 단일 책임의 원칙 때문일 것이다.

컴퓨터 객체가 해야 할 일은 무엇일까? 고민 해본다면 정답을 생성 하는 것 이외에 행동 하는 것이 없다. 이 프로그램의 주체는 플레이어이기 때문이다.
다시 질문으로 돌아와서, 내가 필요한건 정답 여부는 아니라는 것이다. 정답을 판별 해줄 객체가 필요한데 지금 프로그램은 "야구 게임" 이니까 `심판`이 등장하면 어떨까?

<br></br>

**`컴퓨터`, `유저` 그리고 `심판`이 도메인으로 추출되다.**

심판은 어떤 책임을 갖고 있어야할까? 개인적으로 유저가 입력한 정답에 대해 판정을 내려줬으면 좋겠다. 다시 돌아와, 정답 여부만 결정 되는 것이 아닐까?
그렇다면 유저의 정답을 판정 할 때 점수를 측정하면 좋을 듯 하다. 심판이 점수를 주는건 현실에서도 납득이 가는 행동이고, 판정을 내리는 것도 납득이간다.

심판이라는 객체는 점수를 측정하고, 유저가 정답을 입력하면 판정을 내리는 객체가 되었다. 심판이 혼자 힘들게 점수도 입력하고 게임도 진행하고 하면 너무 많은 일을 준 것 아닐까? 내가 만약 게임 속 심판이라면 점수 올리러 뛰어 갔다가 다시 뛰어서 유저가 던진 공이 볼인지, 스트라이크 인지 말해주고, 아웃인지 아닌지도 말 해줘야된다고 생각 하니 아찔하다.

자주 언급 되었던 `점수`도 하나의 객체가 될 수 있을 것 같다. 점수는 앞으로 심판과 협력하는 객체로 심판이 볼이라고 하면 점수 객체는 볼 카운트를 올리고, 스트라이크 라고 하면 스트라이크 카운트를 올리면 서로가 바라보는 관심사는 다르지만 정중하게 요구할 수 있다.

